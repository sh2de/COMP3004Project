<h1>Quest Of The Round Table</h1>

<!-- Other Player -->
  <div class="row">
    <div class="col-sm-3">
      <p>Some text..</p>
      <img src="https://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image">
    </div>
    <div class="col-sm-3"> 
      <p>Some text..</p>
      <img src="https://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image">
    </div>
    <div class="col-sm-3"> 
      <p>Some text..</p>
      <img src="https://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image">
    </div>
    <div class="col-sm-3">
      <p>Some text..</p>
      <img src="https://placehold.it/150x80?text=IMAGE" class="img-responsive" style="width:100%" alt="Image">
    </div>
  </div>

<!-- page of player who's creating quest -->
<div class="container-fluid" *ngIf="questCreator">
  <div class="row content">

    <!-- ALERT-INFO -->
    <div class="alert alert-info" *ngIf="sponsorReq">
      <strong>Are you willing to sponsor the current Quest?</strong>
      <button type="button" class="btn btn-link" (click)="acceptSponsor()">Yes</button>
      <button type="button" class="btn btn-link" (click)="declineSponsor()">No</button>
    </div>
    <div class="alert alert-info" *ngIf="participate">
      <strong>Are you willing to participate in the Quest?</strong>
      <button type="button" class="btn btn-link" (click)="acceptParticipation()">Yes</button>
      <button type="button" class="btn btn-link" (click)="declineParticipation()">No</button>
    </div>

    <!-- SIDE -->
    <div class="col-sm-3 sidenav">
      <div  *ngIf="questCondition">
        <h4>Active Quest</h4>                
        <img src="{{storyCard['url']}}" alt="{{storyCard['type']}}" style="width:100px;height:200px;">             
        
      </div>
      <h3>Rules for quest preparation</h3>
      <br><br>
      <h4>a stage is made up of either a single foe and any number of weapons OR a single test card</h4>
      <br>
      <h4>a quest can only have one test</h4>
      <br> 
      <h4>each stage has to have a higher value than the last</h4>       
    </div>

    <!-- MID -->
      
    <div class="col-sm-9 midnav">
      
      <!-- PLAYER -->
      <div class = "player">
        <h4><small>Player: {{player["name"]}}    Rank: {{player["rank"]}}</small></h4>

        <div *ngIf="ready">
          <button type="button" class="btn btn-primary" (click)="readyToStart()">Ready</button>
        </div>
        
      </div>
      <br><br>

      <!-- STAGE-DROPDOWN -->
      <div class="Stage" ngbDropdown>
        <button type="button" class="btn btn-primary dropdown-toggle" ngbDropdownToggle="dropdown">
          Stage {{roundNUM}}
        </button>
        <ul class="dropdown-menu" *ngFor="let stage of stages, index as i" ngbDropdownMenu>
          <li><a class="dropdown-item" id="{{i}}" (click)="currentstages=i"> Stage {{i}}</a></li>
        </ul> 
        <!--<button type="button" class="btn btn-link" (click)="nextStage()">next stage</button>-->

      <!-- STAGE-CARD -->
        <div>
          <div class="row" >
            <div class="col-sm-1" *ngFor="let card of stages[currentstages], index as i">                
              <img src="{{card['url']}}" alt="{{card['type']}}" class="itemImage-stage">             
              
            </div>
          </div>
        </div>
      </div>
      <br><br>

      <!-- HAND -->
      <div class = "hand">
        <div class = "row">

          <!-- HANDCARD -->
          <div class = "col-sm-10">
            <h4> Your hand </h4>
            <div *ngIf="condition">
              <div class="row" >
                <div class="col-sm-2" *ngFor="let card of myHand; let i = index" [attr.data-index]="i">                
                  <img src="{{card['url']}}" id="{{i}}" style="border:0" alt="{{card['type']}}" (click)="isSelected(i)" class="itemImage-hand">             
                  
                </div>
              </div>
            </div>
          </div>
          
          <!-- STARTBUTTON -->
          <div class = "col-sm-2">
            <div class="start">
              <div class="start-button">
                <button type="button" class="btn btn-primary btn-lg" (click)="start()">
                  Start
                </button>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- page of player who's playing quest -->
<div class="container-fluid" *ngIf="questPlayer">
  <div class="row content"> 
       <!-- Foe warning -->
    <div class="alert alert-info" *ngIf="foeWarning">
      <strong>UKNOWN FOE IS APPROACHING</strong><br>
      select your weapons
    </div>
    <!-- SIDE -->
    <div class="col-sm-3 sidenav">
      
      <h2> Rules for cards to be played</h2>
      <br><br>
      <h3>Select any number of weapons or allies to use for this stage</h3>
      <br><br>
      
             
    </div>

    <!-- MID -->
      
    <div class="col-sm-9 midnav">
      
      <!-- PLAYER -->
      <div class = "player">
        <h4><small>Player: {{player["name"]}}</small></h4>       
        
      </div>
      <br><br>

      <!-- STAGE-DROPDOWN -->
      <div class="Stage" ngbDropdown>         
      
      <!-- STAGE-CARD -->
        <div *ngIf="areSelected">
          <div class="row" >
            <div class="col-sm-1" *ngFor="let card of playableHand, index as i">                
              <img src="{{card['url']}}" alt="{{card['type']}}" class="itemImage-stage">             
              
            </div>
          </div>
        </div>
      </div>
      <br><br>

      <!-- HAND -->
      <div class = "hand">
        <div class = "row">

          <!-- HANDCARD -->
          <div class = "col-sm-10">
            <h4> Your hand </h4>
            <div *ngIf="condition">
              <div class="row" >
                <div class="col-sm-2" *ngFor="let card of myHand; let i = index" [attr.data-index]="i">                
                  <img src="{{card['url']}}" alt="{{card['type']}}" (click)="selected(i)" class="itemImage-hand">             
                  
                </div>
              </div>
            </div>
          </div>
          
          <!-- STARTBUTTON -->
          <div class = "col-sm-2">
            <div class="start">
              <div class="start-button">
                <button type="button" class="btn btn-primary btn-lg" (click)="sendPlayableHand()">
                  Start
                </button>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<footer class="container-fluid">
  <p></p>
</footer>
